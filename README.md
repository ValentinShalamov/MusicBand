
# Music Bands Application

## Introduction

**Music Bands Application** - многопоточное клиент-серверное приложение, предназначенное для управления коллекцией объектов `MusicBands` в интерактивном режиме. 

В данном **readme** описывается только клиентская часть приложения. С серверной частью (в т.ч. техническими особенностями) вы можете ознакомиться, перейдя по ссылке [Server](https://github.com/matiassingers/awesome-readme)
## Features
- Работа с коллекцией `MusicBands` в интерактивном консольном режиме
- Регистрация и авторизация пользователей
- Хранение созданных `MusicBands` и зарегистрированных пользователей в базе данных сервера (**PostgreSQL**)
- Невозможно изменять существующие `MusicBands`, которые не принадлежат вам
- Поддержка автоматизированного ввода команд с помощью `execute_script`
## API
Клиентская часть приложения позволяет работать с сервером с помощью консольного интерфейса.

Сервер поддерживает следующий перечень команд:

- `help` - `вывести список доступных команд`
- `info` - `вывести информацию о коллекции` 
- `show` - `вывести список всех музыкальных банд` 
- `show_mine` - `вывести список только своих музыкальных банд` 
- `show_min` - `вывести музыкальную банду, у которой минимальной количество продаж ее лучшего альбома в коллекции`
- `print_asc` - `вывести список всех музыкальных банд в порядке возрастания`
- `print_desc` - `вывести список всех музыкальных банд в порядке убывания`
- `filter <количество продаж>` - `вывести список всех музыкальных банд, у которых количество продаж лучшего альбома эквивалентно введенному аргументу`
- `add` - `добавить музыкальную банду в коллекцию`
- `add_if_min` - `добавить музыкальную банду в коллекцию, если количество продаж ее лучшего альбома меньше, чем у любой из добавленных вами банд`
- `update <id>` - `изменить свою музыкальную банду у которой id равен введенному`
- `history` - `вывести список последних 12 команд`
- `history_clear` - `очистить историю команд`
- `remove <id>` - `удалить свою музыкальную банду у которой id равен введенному`
- `remove_lower <количество продаж>` - `удалить все свои музыкальные банды, у которых количество продаж лучшего альбома меньше введенного`
- `clear` - `удалить все свои музыкальные банды`
- `execute_script` - `выполнить скрипт из файла`
- `exit` - `закрыть программу`

- `q` - `команда прерывания ввода. Может использоваться в любом месте программы при вводе данных`

## Getting started

Для запуска клиента необходима версия `Java 17` или выше.

Загрузите клиент с репозитория

```bash
  git clone https://link-to-project
```

Перейдите в корневую папку с проектом

```bash
  cd my-project
```

Предоставьте доступ на выполнение скрипту `run.sh`
```bash
  chmod u+x run.sh 
```

Запустите скрипт 

```bash
  ./run.sh
```



## How to work with `execute_script`
Команда `execute_script` поддерживает все команды с интерактивного режима.

**Этапы работы:**

Подготовьте файл для скрипта - пропишите в файле последовательно на отдельных строках нужные команды
```bash
  help

  info

  show
```
Пробелы перед, до, после и между командами игнорируются.

Команды ниже принимают один аргумент сразу после имени команды

- `filter <количество продаж>`

- `remove <id>`

- `remove_lower <количество продаж>`

Пример текста скрипта для выполнения этих команд

```bash
  filter 777

  remove 3

  remove_lower 100000
```

Для команд с большим количеством аргументов - `add`, `add_if_min`, `update <id>` - необходимо передавать аргументы в следующих строках, в том же порядке, что и в интерактивном режиме

```bash
add
The Beatles
4
brit_pop
Hey Jude
87654321

add_if_min
Кино
5
math_rock
Группа крови
100000000

update 28
Nautilus Pompilius
10
math_rock
Князь тишины
777777777
```

**Вызов команды**

Во время работы с программой в интерактивном режиме введите `execute_script`

```bash
  Enter a command:
  execute_script
```

Введите путь к файлу-скрипту (путь может быть любым)

```bash
  Enter the path to the file:
  /home/valentin/Java_Projects/MusicBand/MusicBandClient/script
```

Скрипт будет выполнен только в том случае, если не было ни единой синтаксической ошибки в файле, иначе выведутся в консоль те строки, которые не удовлетворяют нормальной работе скрипта

```bash
  Command: show_mineв is incorrect command
  Command: filtear 201 is incorrect command
  Command: add_if_min Error message: The number of participants can be from 1 to 1000 
```

## Project Structure
Далее приводится техническая часть клиентского приложения и особенности реализации.


## Support

For support, email fake@fake.com or join our Slack channel.

